<!-- Template for creating new modules -->
<!-- Replace MODULE_ID, MODULE_TITLE, and implement your logic -->

<script>
registerModule({
  id: 'MODULE_ID',  // e.g., 'sofa', 'chadsvasc', 'nutrition'
  title: 'MODULE_TITLE',  // e.g., 'SOFA Score', 'Nutrition Calculator'
  
  mount: function(root) {
    // This function is called when the module is loaded
    
    // Example: Create a simple calculator
    const calculatorCard = el('div', {class:'card'},
      
      // Header
      el('h3', {}, 'MODULE_TITLE'),
      el('div', {class:'small', style:'margin-bottom:1rem'}, 
         'Brief description of this calculator'),
      
      // Inputs
      el('div', {class:'input'},
        el('label', {}, 'Input 1 Label'),
        el('input', {
          id: 'input1',
          type: 'number',  // or 'text', 'select', etc.
          value: 0,
          step: '0.1',
          placeholder: 'Enter value'
        })
      ),
      
      el('div', {class:'input'},
        el('label', {}, 'Input 2 Label'),
        el('select', {id: 'input2'},
          el('option', {value: 'option1'}, 'Option 1'),
          el('option', {value: 'option2'}, 'Option 2')
        )
      ),
      
      // Calculate button
      el('button', {
        class: 'btn',
        onclick: handleCalculate
      }, 'Calculate'),
      
      // Result area
      el('div', {id: 'result', style: 'margin-top:1rem'})
    );
    
    // Handle calculation
    function handleCalculate() {
      // Get input values
      const input1 = Number(document.getElementById('input1').value);
      const input2 = document.getElementById('input2').value;
      
      // Validate
      if (!input1 || !input2) {
        alert('Please fill all fields');
        return;
      }
      
      // Prepare payload for server
      const payload = {
        input1: input1,
        input2: input2
      };
      
      // Call server-side API
      google.script.run
        .withSuccessHandler(displayResult)
        .withFailureHandler(handleError)
        .api_MODULE_ID_calculate(payload);  // Your API function name
    }
    
    // Display result
    function displayResult(result) {
      const resultDiv = document.getElementById('result');
      resultDiv.innerHTML = '';
      
      const resultCard = el('div', {class:'card', style:'background:#e8f5e9'},
        el('h2', {style:'margin:0; color:#2e7d32'}, 
           `Result: ${result.value}`),
        el('div', {style:'margin-top:0.5rem'}, 
           result.interpretation),
        el('div', {class:'small', style:'margin-top:1rem'}, 
           `Reference: ${result.ref}`)
      );
      
      resultDiv.appendChild(resultCard);
    }
    
    // Handle errors
    function handleError(error) {
      alert('Error: ' + error.message);
      console.error(error);
    }
    
    // Mount to DOM
    root.appendChild(calculatorCard);
    
    // Optional: Add additional cards
    const referenceCard = el('div', {class:'card', style:'margin-top:1rem'},
      el('h4', {}, 'Clinical Reference'),
      el('div', {class:'small'}, 
         'Add clinical context, guidelines, interpretation here')
    );
    root.appendChild(referenceCard);
  }
});
</script>

<!-- 
USAGE INSTRUCTIONS:
1. Copy this template to web/YOUR_MODULE.html
2. Replace MODULE_ID and MODULE_TITLE
3. Customize inputs and calculation logic
4. Create corresponding API function in server/YOUR_MODULE.api.gs
5. Include in index.html: <?!= include('YOUR_MODULE'); ?>
6. Add navigation link: <a href="#/MODULE_ID">MODULE_TITLE</a>
-->

